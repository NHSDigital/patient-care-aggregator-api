description: FHIR Bundle containing the TBC.
type: object
required:
  - resourceType
  - type
  - entry
# TBC Confluence page says entry is optional but I'm pretty sure it's mandatory
properties:
  resourceType:
    description: FHIR resource type.
    type: string
    enum:
      - "Bundle"
  type:
    description: The type of FHIR bundle.
    type: string
    enum:
      - "collection"
  entry:
    description: TBC.
# TBC Confluence says there will always be one CarePlan but what if no care plans are found? What if no Care plans are found but there is an error from one back end?
    type: array
    items:
      type: object
      required:
        - fullUrl
        - resource
        - search
      properties:
# TBC below cut & pasted from Imm Hist - needs changing for this API
        fullUrl:
          description: URI for the TBC resource.
          type: string
          example: "urn:uuid:edea022a-2d81-11eb-adc1-0242ac120001"
        resource:
          description: The TBC resource.
          oneOf:
            - $ref: CarePlan.yaml
            - $ref: OperationOutcome.yaml
        search:
          description: Search-related information for the TBC resource.
          type: object
          required:
            - mode
          properties:
            mode:
              description: Indicates why this resource is in the result set. For CarePlan resources this is always `match` and for OperationOutcome resources it is always `include`.
              enum:
                - match
                - include
